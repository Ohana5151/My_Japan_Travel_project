<!DOCTYPE html>
<html>
  <head>
    <title>2026 ë„ì¿„ & ì‚¿í¬ë¡œ ì—¬í–‰ ë§ˆì»¤ ì§€ë„</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        margin: 0;
        display: flex;
        flex-direction: row;
        font-family: Arial, sans-serif;
      }
      #sidebar {
        width: 300px;
        height: 100vh;
        overflow-y: auto;
        background-color: #f5f5f5;
        padding: 10px;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
      }
      #map {
        flex: 1;
        height: 100vh;
      }
      .day-info {
        margin-bottom: 20px;
        padding: 10px;
        background: #fff;
        border-left: 5px solid #4CAF50;
        border-radius: 5px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        transition: all 0.2s ease;
        cursor: pointer;
      }
      .day-info:hover {
        background-color: #e3f2fd;
      }
      .extra-info {
        font-size: 12px;
        margin-top: 5px;
        color: #444;
      }
      #filters {
        margin: 10px 0;
      }
      .filter-btn {
        margin: 2px;
        padding: 5px 10px;
        font-size: 12px;
        cursor: pointer;
      }
      #footer {
        position: fixed;
        bottom: 0;
        left: 300px;
        width: calc(100% - 300px);
        background: #fff;
        border-top: 1px solid #ccc;
        padding: 8px;
        font-size: 13px;
      }
      @media (max-width: 768px) {
        body {
          flex-direction: column;
        }
        #sidebar {
          width: 100%;
          height: auto;
          transform: translateY(0);
        }
        #map {
          height: calc(100vh - 260px); /* ìƒë‹¨ ì‚¬ì´ë“œë°”ì™€ í‘¸í„° ê³µê°„ ê³ ë ¤ */
        }
        #footer {
          left: 0;
          width: 100%;
        }
      }
        #footer {
          left: 0;
          width: 100%;
        }
      }
    </style>
    <!-- Google Maps API Key ì„¤ì • (ì—¬í–‰ì§€ì— ë”°ë¼ key ë³€ê²½ í•„ìš”) -->
    <!-- ì‹¤ì œ ì‚¬ìš© ì‹œ ë³¸ì¸ì˜ Google Maps API í‚¤ë¡œ ì•„ë˜ YOUR_API_KEY ë¶€ë¶„ì„ êµì²´í•˜ì„¸ìš” -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
    <script>
      // ëª¨ë°”ì¼ì—ì„œ ë°ìŠ¤í¬í†± ë³´ê¸° ìœ ë„
      if (window.innerWidth < 768) {
        alert("ğŸ“± í˜„ì¬ í˜ì´ì§€ëŠ” ë°ìŠ¤í¬í†± í™˜ê²½ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ëª¨ë°”ì¼ì—ì„œëŠ” ë¸Œë¼ìš°ì € ë©”ë‰´ì—ì„œ 'ë°ìŠ¤í¬í†± ì‚¬ì´íŠ¸ ë³´ê¸°'ë¡œ ì „í™˜í•´ì£¼ì„¸ìš”!");
      }

      function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 5,
          center: { lat: 39.5, lng: 141.5 },
        });

        const dayColors = ["#ff0000", "#ff8000", "#ffff00", "#80ff00", "#00ff00", "#00ffff", "#0080ff", "#0000ff", "#8000ff", "#ff00ff", "#ff0080", "#808080"];

        // ğŸ“ ì—¬ê¸°ì— ë°©ë¬¸í•  ì—¬í–‰ì§€ë¥¼ ë‚ ì§œ ìˆœì„œëŒ€ë¡œ ì…ë ¥í•˜ì„¸ìš”
        // type: "ìˆ™ì†Œ", "ê´€ê´‘", "ì‡¼í•‘", "ê³µí•­" ì¤‘ ì„ íƒ
        const itinerary = [
  { day: 1, name: "í•˜ë„¤ë‹¤ê³µí•­", lat: 35.5494, lng: 139.7798, type: "ê³µí•­" },
  { day: 1, name: "ë„í ìŠ¤í…Œì´ ì‹œë¶€ì•¼ ì‹ ì‚¬", lat: 35.6592, lng: 139.6975, type: "ìˆ™ì†Œ" },

  { day: 2, name: "ë„í ìŠ¤í…Œì´ ì‹œë¶€ì•¼ ì‹ ì‚¬", lat: 35.6592, lng: 139.6975, type: "ìˆ™ì†Œ" },
  { day: 2, name: "ì‹œëª¨í‚¤íƒ€ìì™€", lat: 35.6617, lng: 139.6689, type: "ê´€ê´‘" },
  { day: 2, name: "ì•„í‚¤í•˜ë°”ë¼", lat: 35.6984, lng: 139.7730, type: "ì‡¼í•‘" },

  { day: 3, name: "ë„í ìŠ¤í…Œì´ ì‹œë¶€ì•¼ ì‹ ì‚¬", lat: 35.6592, lng: 139.6975, type: "ìˆ™ì†Œ" },
  { day: 3, name: "ì˜¤ë‹¤ì´ë°”", lat: 35.6190, lng: 139.7780, type: "ê´€ê´‘" },
  { day: 3, name: "ê±´ë‹´ í”„ë¡ íŠ¸", lat: 35.6231, lng: 139.7753, type: "ê´€ê´‘" },

  { day: 4, name: "ë„í ìŠ¤í…Œì´ ì‹œë¶€ì•¼ ì‹ ì‚¬", lat: 35.6592, lng: 139.6975, type: "ìˆ™ì†Œ" },
  { day: 4, name: "ì‚¬ì´íƒ€ë§ˆ ì§±êµ¬ë°•ë¬¼ê´€", lat: 35.8224, lng: 139.6011, type: "ê´€ê´‘" },
  { day: 4, name: "ëˆí‚¤í˜¸í…Œ", lat: 35.6591, lng: 139.7005, type: "ì‡¼í•‘" },

  { day: 5, name: "ë„í ìŠ¤í…Œì´ ì‹œë¶€ì•¼ ì‹ ì‚¬", lat: 35.6592, lng: 139.6975, type: "ìˆ™ì†Œ" },
  { day: 5, name: "ìš°ì—ë…¸", lat: 35.7126, lng: 139.7780, type: "ê´€ê´‘" },
  { day: 5, name: "ë„ì¿„íƒ€ì›Œ", lat: 35.6586, lng: 139.7454, type: "ê´€ê´‘" },

  { day: 6, name: "ì‹ ì¹˜í† ì„¸ê³µí•­", lat: 42.7752, lng: 141.6923, type: "ê³µí•­" },
  { day: 6, name: "ë„ë¯¸ ì¸ í”„ë¦¬ë¯¸ì—„ ì‚¿í¬ë¡œ ì˜¨ì²œí˜¸í…”", lat: 43.0582, lng: 141.3544, type: "ìˆ™ì†Œ" },

  { day: 7, name: "ë„ë¯¸ ì¸ í”„ë¦¬ë¯¸ì—„ ì‚¿í¬ë¡œ ì˜¨ì²œí˜¸í…”", lat: 43.0582, lng: 141.3544, type: "ìˆ™ì†Œ" },
  { day: 7, name: "ì˜¤íƒ€ë£¨ ìš´í•˜", lat: 43.1976, lng: 140.9947, type: "ê´€ê´‘" },

  { day: 8, name: "ë„ë¯¸ ì¸ í”„ë¦¬ë¯¸ì—„ ì‚¿í¬ë¡œ ì˜¨ì²œí˜¸í…”", lat: 43.0582, lng: 141.3544, type: "ìˆ™ì†Œ" },
  { day: 8, name: "ì‚¿í¬ë¡œ ë§¥ì£¼ ë°•ë¬¼ê´€", lat: 43.0686, lng: 141.3544, type: "ê´€ê´‘" },
  { day: 8, name: "ì‚¿í¬ë¡œ TVíƒ€ì›Œ", lat: 43.0615, lng: 141.3543, type: "ê´€ê´‘" },

  { day: 9, name: "ë„ë¯¸ ì¸ í”„ë¦¬ë¯¸ì—„ ì‚¿í¬ë¡œ ì˜¨ì²œí˜¸í…”", lat: 43.0582, lng: 141.3544, type: "ìˆ™ì†Œ" },
  { day: 9, name: "ë…¸ë³´ë¦¬ë² ì¸  ì˜¨ì²œ", lat: 42.4995, lng: 141.1457, type: "ê´€ê´‘" },

  { day: 10, name: "ë„ë¯¸ ì¸ í”„ë¦¬ë¯¸ì—„ ì‚¿í¬ë¡œ ì˜¨ì²œí˜¸í…”", lat: 43.0582, lng: 141.3544, type: "ìˆ™ì†Œ" },
  { day: 10, name: "ì‚¿í¬ë¡œ ì‹œë‚´", lat: 43.0621, lng: 141.3544, type: "ì‡¼í•‘" },

  { day: 11, name: "ë„ë¯¸ ì¸ í”„ë¦¬ë¯¸ì—„ ì‚¿í¬ë¡œ ì˜¨ì²œí˜¸í…”", lat: 43.0582, lng: 141.3544, type: "ìˆ™ì†Œ" },
  { day: 11, name: "ë§ˆíŠ¸ ì‡¼í•‘", lat: 43.0700, lng: 141.3400, type: "ì‡¼í•‘" },

  { day: 12, name: "ì‹ ì¹˜í† ì„¸ê³µí•­", lat: 42.7752, lng: 141.6923, type: "ê³µí•­" }
];

        // ğŸš† ê° ë‚ ì§œì— ì‚¬ìš©í•  êµí†µìˆ˜ë‹¨ ì…ë ¥ (ì—¬í–‰ì§€ì— ë”°ë¼ ìˆ˜ì •)
        const transportTips = {
          1: "ë„ì¿„ ëª¨ë…¸ë ˆì¼ + JR ì•¼ë§ˆë…¸í…Œì„ ",
          2: "ì¼€ì´ì˜¤ ì´ë…¸ì¹´ì‹œë¼ì„  + JR ì¤‘ì•™ì„ ",
          3: "ë¦°ì¹´ì´ì„  or ìœ ë¦¬ì¹´ëª¨ë©”ì„ ",
          4: "JR ì‚¬ì´ì¿„ì„  + ë„ì¿„ ë©”íŠ¸ë¡œ",
          5: "ë„ì¿„ ë©”íŠ¸ë¡œ ê¸´ìì„  + JR ì•¼ë§ˆë…¸í…Œì„ ",
          6: "í•˜ë„¤ë‹¤ â†’ ì‹ ì¹˜í† ì„¸ êµ­ë‚´ì„  (ë¹„í–‰)",
          7: "JR í•˜ì½”ë‹¤í…Œì„  (ì‚¿í¬ë¡œ â†” ì˜¤íƒ€ë£¨)",
          8: "ì‚¿í¬ë¡œ ì§€í•˜ì²  + ë„ë³´",
          9: "JR ì‚¿í¬ë¡œì—­ â†’ ë…¸ë³´ë¦¬ë² ì¸ ì—­ â†’ ë„ë³´",
          10: "ì‚¿í¬ë¡œ ì§€í•˜ì² ",
          11: "ì‚¿í¬ë¡œ ì§€í•˜ì² ",
          12: "JR ê¸‰í–‰ â†’ ì‹ ì¹˜í† ì„¸ê³µí•­"
        };

        // â±ï¸ ê° ë‚ ì§œë³„ ì˜ˆìƒ ë„ì°© ì‹œê°„ ë° ì´ë™ ì‹œê°„ (ì›í•˜ë©´ Directions APIë¡œ ëŒ€ì²´ ê°€ëŠ¥)
        const arrivalTimes = {
          1: "â±ï¸ ì˜ˆìƒ ë„ì°©: 11:30 / ì´ë™ ì•½ 1ì‹œê°„ 30ë¶„",
          2: "â±ï¸ ì˜ˆìƒ ë„ì°©: 10:30 / ì´ë™ ì•½ 30ë¶„",
          3: "â±ï¸ ì˜ˆìƒ ë„ì°©: 11:00 / ì´ë™ ì•½ 40ë¶„",
          4: "â±ï¸ ì˜ˆìƒ ë„ì°©: 13:00 / ì´ë™ ì•½ 1ì‹œê°„",
          5: "â±ï¸ ì˜ˆìƒ ë„ì°©: 10:00 / ì´ë™ ì•½ 30ë¶„",
          6: "â±ï¸ ì‚¿í¬ë¡œ ë„ì°©: 15:00 / ë¹„í–‰ ë° ì´ë™ ì•½ 3ì‹œê°„",
          7: "â±ï¸ ì˜ˆìƒ ë„ì°©: 11:00 / ì´ë™ ì•½ 1ì‹œê°„",
          8: "â±ï¸ ì˜ˆìƒ ë„ì°©: 11:00 / ì´ë™ ì•½ 20ë¶„",
          9: "â±ï¸ ì˜ˆìƒ ë„ì°©: 15:00 / ì´ë™ ì•½ 2ì‹œê°„",
          10: "â±ï¸ ì˜ˆìƒ ë„ì°©: 11:00 / ì´ë™ ì•½ 15ë¶„",
          11: "â±ï¸ ì˜ˆìƒ ë„ì°©: 10:30 / ì´ë™ ì•½ 15ë¶„",
          12: "â±ï¸ ì¶œë°œ ì˜ˆì •: 10:00 / ì´ë™ ì•½ 1ì‹œê°„"
        };

        // ğŸœ ì¶”ì²œ í™œë™ ë˜ëŠ” ë§›ì§‘ ë“± (ì„ íƒì‚¬í•­)
        const recommendations = {
          2: "ğŸœ ì‹œëª¨í‚¤íƒ€ìì™€ ë¼ë©˜ì§€ë¡œ, ë¹ˆí‹°ì§€ìˆ",
          4: "ğŸ›ï¸ ëˆí‚¤í˜¸í…Œì—ì„œ ë©´ì„¸ ì‡¼í•‘",
          7: "ğŸ£ ì˜¤íƒ€ë£¨ ë§ˆë£¨ì¹´ì¸  ì‹œì¥ì—ì„œ ì¹´ì´ì„¼ë™",
          9: "â™¨ï¸ ë…¸ë³´ë¦¬ë² ì¸  ì§€ì˜¥ê³„ê³¡ ì‚°ì±…"
        };

        // ğŸ’° í•˜ë£¨ ì˜ˆìƒ ê²½ë¹„ í•­ëª© (êµí†µ/ì‹ë¹„/ì‡¼í•‘/ìˆ™ë°• ë“± ì—¬í–‰ì§€ì— ë”°ë¼ ìˆ˜ì •)
        const dailyCosts = {
          1: "ğŸ’° êµí†µ: Â¥1,000 / ì‹ë¹„: Â¥2,000 / ìˆ™ë°•: Â¥12,000",
          2: "ğŸ’° êµí†µ: Â¥800 / ì‹ë¹„: Â¥3,000 / ì‡¼í•‘: Â¥5,000 / ìˆ™ë°•: Â¥12,000",
          3: "ğŸ’° êµí†µ: Â¥1,200 / ì‹ë¹„: Â¥2,500 / ì…ì¥ë£Œ: Â¥2,000 / ìˆ™ë°•: Â¥12,000",
          4: "ğŸ’° êµí†µ: Â¥1,500 / ì‹ë¹„: Â¥2,500 / ì…ì¥ë£Œ: Â¥1,500 / ì‡¼í•‘: Â¥4,000 / ìˆ™ë°•: Â¥12,000",
          5: "ğŸ’° êµí†µ: Â¥1,000 / ì‹ë¹„: Â¥2,500 / ì…ì¥ë£Œ: Â¥2,000 / ìˆ™ë°•: Â¥12,000",
          6: "ğŸ’° í•­ê³µ: Â¥10,000 / êµí†µ: Â¥1,000 / ì‹ë¹„: Â¥2,000 / ìˆ™ë°•: Â¥11,000",
          7: "ğŸ’° êµí†µ: Â¥1,500 / ì‹ë¹„: Â¥3,000 / ìˆ™ë°•: Â¥11,000",
          8: "ğŸ’° êµí†µ: Â¥1,000 / ì‹ë¹„: Â¥2,500 / ì…ì¥ë£Œ: Â¥1,000 / ìˆ™ë°•: Â¥11,000",
          9: "ğŸ’° êµí†µ: Â¥2,500 / ì‹ë¹„: Â¥3,000 / ì˜¨ì²œ: Â¥1,000 / ìˆ™ë°•: Â¥11,000",
          10: "ğŸ’° êµí†µ: Â¥800 / ì‹ë¹„: Â¥2,000 / ì‡¼í•‘: Â¥3,000 / ìˆ™ë°•: Â¥11,000",
          11: "ğŸ’° êµí†µ: Â¥500 / ì‹ë¹„: Â¥2,000 / ì‡¼í•‘: Â¥4,000 / ìˆ™ë°•: Â¥11,000",
          12: "ğŸ’° êµí†µ: Â¥1,500 / ì‹ë¹„: Â¥2,000"
        };

        const markers = [];
        const pathCoordsByDay = {};
        const sidebar = document.getElementById("sidebar");
        const infoWindow = new google.maps.InfoWindow();

        itinerary.forEach((loc) => {
          if (!pathCoordsByDay[loc.day]) pathCoordsByDay[loc.day] = [];
          pathCoordsByDay[loc.day].push({ lat: loc.lat, lng: loc.lng });

          const marker = new google.maps.Marker({
            position: { lat: loc.lat, lng: loc.lng },
            map,
            title: `Day ${loc.day}: ${loc.name}`,
            icon: {
              path: google.maps.SymbolPath.CIRCLE,
              scale: 6,
              fillColor: loc.type === "ìˆ™ì†Œ" ? "#000000" : dayColors[loc.day - 1],
              fillOpacity: 1,
              strokeColor: "#000",
              strokeWeight: 1
            }
          });

          marker.customType = loc.type;
          markers.push(marker);

          marker.addListener("click", () => {
            infoWindow.setContent(`<strong>Day ${loc.day}</strong><br>${loc.name}<br>êµí†µìˆ˜ë‹¨: ${transportTips[loc.day] || "-"}`);
            infoWindow.open(map, marker);
          });
        });

        Object.entries(pathCoordsByDay).forEach(([day, coords]) => {
          new google.maps.Polyline({
            path: coords,
            geodesic: true,
            strokeColor: dayColors[day - 1],
            strokeOpacity: 0.9,
            strokeWeight: 3,
            map
          });

          const div = document.createElement("div");
          div.className = "day-info";
          div.innerHTML = `<strong>Day ${day}</strong><br>êµí†µìˆ˜ë‹¨: ${transportTips[day] || "-"}`;
          if (arrivalTimes[day]) {
            div.innerHTML += `<div class='extra-info'>${arrivalTimes[day]}</div>`;
          }
          if (recommendations[day]) {
            div.innerHTML += `<div class='extra-info'>${recommendations[day]}</div>`;
          }
          if (dailyCosts[day]) {
            div.innerHTML += `<div class='extra-info'>${dailyCosts[day]}</div>`;
          }
          div.onclick = () => {
            map.panTo(coords[0]);
            map.setZoom(12);
          };
          sidebar.appendChild(div);
        });

        const filterDiv = document.createElement("div");
        filterDiv.id = "filters";
        filterDiv.innerHTML = ["ìˆ™ì†Œ", "ê´€ê´‘", "ì‡¼í•‘", "ê³µí•­", "ì „ì²´"].map(t => `<button class='filter-btn' onclick='filterMarkers("${t}")'>${t}</button>`).join("");
        sidebar.prepend(filterDiv);

        window.filterMarkers = (type) => {
          markers.forEach(m => {
            m.setVisible(type === "ì „ì²´" || m.customType === type);
          });
        };
      }

      window.onload = () => {
        

      function calculateDurations() {
        const service = new google.maps.DirectionsService();
        const output = {};
        const grouped = {};
        itinerary.forEach(loc => {
          if (!grouped[loc.day]) grouped[loc.day] = [];
          grouped[loc.day].push(loc);
        });

        Object.entries(grouped).forEach(([day, places]) => {
          for (let i = 0; i < places.length - 1; i++) {
            const origin = places[i];
            const destination = places[i + 1];
            service.route({
              origin: { lat: origin.lat, lng: origin.lng },
              destination: { lat: destination.lat, lng: destination.lng },
              travelMode: google.maps.TravelMode.TRANSIT,
              transitOptions: { modes: ['RAIL'], departureTime: new Date() }
            }, (result, status) => {
              if (status === 'OK') {
                const duration = result.routes[0].legs[0].duration.text;
                alert(`Day ${day} - ${origin.name} â†’ ${destination.name}: ${duration}`);
              } else {
                console.warn(`Error fetching directions: ${status}`);
              }
            });
          }
        });
      }
        if (!navigator.onLine) {
          alert("âš ï¸ ì¸í„°ë„· ì—°ê²°ì´ ëŠê²¼ìŠµë‹ˆë‹¤. ì§€ë„ì˜ ì¼ë¶€ ê¸°ëŠ¥ì´ ì œí•œë©ë‹ˆë‹¤. ì˜¨ë¼ì¸ ìƒíƒœì—ì„œ ìƒˆë¡œê³ ì¹¨í•´ ì£¼ì„¸ìš”.");
        }
        initMap();
      };
    </script>
  </head>
  <body>
    <div id="sidebar">
      <h2>ì—¬í–‰ ìš”ì•½</h2>
    </div>
    <div id="map"></div>
    <div id="footer">
      ğŸ“ ì˜¤ëŠ˜ì˜ ì¶”ì²œ: ì§€ì˜¥ê³„ê³¡ì—ì„œ ì˜¨ì²œ í›„ ì¹´ì´ì„¼ë™ ë¨¹ê¸°! | â˜€ï¸ ë‚ ì”¨: <a href="https://weather.yahoo.co.jp/weather/jp/1/" target="_blank">ì¼ë³¸ ë‚ ì”¨</a> | ğŸ–¨ï¸ <a href="#" onclick="window.print()">PDFë¡œ ì €ì¥</a>
    <button onclick="calculateDurations()" style="position:fixed; bottom:50px; left:320px; z-index:9999; padding:8px 16px; background:#4CAF50; color:white; border:none; border-radius:4px; cursor:pointer;">ì†Œìš”ì‹œê°„ ê³„ì‚°í•˜ê¸°</button>
</div>
</body>
</html>
